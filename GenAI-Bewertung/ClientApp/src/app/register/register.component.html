<div class="auth-container">
  <h2 class="auth-title">ğŸ“ Registrieren</h2>

  <div *ngIf="message" class="success-message">{{ message }}</div>
  <div *ngIf="error" class="error-message">{{ error }}</div>

  <form #form="ngForm" (ngSubmit)="register()" class="auth-form" novalidate>

    <label>Benutzername:</label>
    <input
      [(ngModel)]="username"
      name="username"
      required
      minlength="3"
      #usernameRef="ngModel"
    />
    <div class="text-danger" *ngIf="usernameRef.invalid && usernameRef.touched">
      <small *ngIf="usernameRef.errors?.['required']">Benutzername ist erforderlich.</small>
      <small *ngIf="usernameRef.errors?.['minlength']">Mindestens 3 Zeichen erforderlich.</small>
    </div>

    <label>Email:</label>
    <input
      [(ngModel)]="email"
      name="email"
      type="email"
      required
      pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
      #emailRef="ngModel"
    />
    <div class="text-danger" *ngIf="emailRef.invalid && emailRef.touched">
      <small *ngIf="emailRef.errors?.['required']">E-Mail ist erforderlich.</small>
      <small *ngIf="emailRef.errors?.['email']">Bitte gib eine gÃ¼ltige E-Mail ein.</small>
      <small *ngIf="emailRef.errors?.['pattern']">UngÃ¼ltiges E-Mail-Format.</small>
    </div>

    <label>Passwort:</label>
    <input
      [(ngModel)]="password"
      name="password"
      type="password"
      required
      pattern="^(?=.*[A-Z])(?=.*[a-z])(?=.*\d).{8,}$"
      #passwordRef="ngModel"
    />
    <div class="text-danger" *ngIf="passwordRef.invalid && passwordRef.touched">
      <small *ngIf="passwordRef.errors?.['required']">Passwort ist erforderlich.</small>
      <small *ngIf="passwordRef.errors?.['pattern']">
        Mindestens 8 Zeichen, mit GroÃŸ-, Kleinbuchstaben und Zahl.
      </small>
    </div>

    <button type="submit" class="btn register-btn" [disabled]="form.invalid">Registrieren</button>
  </form>

  <p class="auth-footer">Schon registriert? <a routerLink="/login">Zum Login</a></p>
</div>
